<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>New Support Ticket</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css"
    >
  </head>
  <body>
    <section class="section">
      <div class="container">
        <a class="button is-link mb-4" href="/tickets/">Back to Tickets</a>

        <h1 class="title">Create a Ticket!</h1>

        <form action="/tickets" method="POST">
          <div class="field">
            <label class="label" for="escalationId">Escalation ID</label>
            <div class="control">
              <input class="input" type="number" name="escalationId" id="escalationId" placeholder="Enter escalation ID">
            </div>
          </div>

          <div class="field">
            <label class="label" for="subject">Subject</label>
            <div class="control">
              <input class="input" type="text" name="subject" id="subject" placeholder="Ticket subject">
            </div>
          </div>

          <div class="field">
            <label class="label" for="description">Description</label>
            <div class="control">
              <input class="input" type="text" name="description" id="description" placeholder="Describe the issue">
            </div>
          </div>

          <div class="field">
            <label class="label" for="customerEmail">Customer Email</label>
            <div class="control">
              <input class="input" type="email" name="customerEmail" id="customerEmail" placeholder="Email address">
            </div>
          </div>

          <div class="field">
            <label class="label" for="cpoName">CPO Name</label>
            <div class="control">
              <div class="select">
                <select name="cpoName" id="cpoName">
                  <% cpos.forEach(cpo => { %>
                    <option><%= cpo.cpoName %></option> 
                  <% }) %>
                </select>
              </div>
            </div>
          </div>

          <div class="field">
            <label class="label" for="city">City</label>
            <div class="control">
              <input class="input" type="text" name="city" id="city" placeholder="City name">
            </div>
          </div>

          <div class="field">
            <label class="label" for="country">Country</label>
            <div class="control">
              <input class="input" type="text" name="country" id="country" placeholder="Country name">
            </div>
          </div>

          <div class="field">
            <label class="label" for="priority">Priority</label>
            <div class="control">
              <input class="input" type="number" name="priority" id="priority" placeholder="Priority (e.g., 1)">
            </div>
          </div>

          <div class="field">
            <label class="label" for="status">Status</label>
            <div class="control">
              <input class="input" type="text" name="status" id="status" placeholder="Current status">
            </div>
          </div>

          <div class="field">
            <label class="label" for="createdAt">Creation Date</label>
            <div class="control">
              <input class="input" type="datetime-local" name="createdAt" id="createdAt">
            </div>
          </div>

          <div class="field">
            <label class="label" for="brand">Brand</label>
            <div class="control">
              <input class="input" type="text" name="brand" id="brand" placeholder="Brand name">
            </div>
          </div>

          <div class="field">
            <label class="checkbox">
              <input type="checkbox" name="allowedContact" id="allowedContact">
              Can the customer be contacted?
            </label>
          </div>

          <div class="field">
            <label class="label" for="assignedTo">Assigned To</label>
            <div class="control">
              <input class="input" type="text" name="assignedTo" id="assignedTo" placeholder="Assignee">
            </div>
          </div>

          <div class="field">
            <div class="control">
              <button class="button is-primary" type="submit">Add Ticket</button>
            </div>
          </div>
        </form>
      </div>
    </section>
  </body>
</html>
